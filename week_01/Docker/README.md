# 1ì£¼ì°¨ ëª©ë¡
* [Day1 êµìœ¡ë‚´ìš©](#day-1-êµìœ¡ë‚´ìš©) 
* [Day2 êµìœ¡ë‚´ìš©](#day-2-êµìœ¡ë‚´ìš©)

---

## ì£¼ìš” ë‚´ìš©
1. `Github` ë˜ëŠ” `Notion` ì„ ì‚¬ìš©í•´ì„œ êµìœ¡ë‚´ìš©ì„ ì •ë¦¬í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥´ì. ë˜ë„ë¡ `Github` ê¶Œì¥. ~~ê·¸ë˜ì„œ ë…¸ë ¥ì¤‘~~
2. ìš°ë¦¬ê°€ ì§€ê¸ˆê¹Œì§€ í•´ì˜¨ ML(Machine Learning)ì€ `Research ML` ì´ë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” `Product ML` ì„ í•´ì•¼ í•œë‹¤.
3. ê°œë°œí™˜ê²½ì´ ëª¨ë‘ ë‹¤ë¥´ë‹¤. ë‹¤ë¥¸ ê°œë°œí™˜ê²½ì„ í•˜ë‚˜ë¡œ í†µì¼í•˜ê¸° ìœ„í•´ `Docker` ë¥¼ ì‚¬ìš©í•œë‹¤.
4. `Docker` ë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ê°œìˆ˜ê°€ ëŠ˜ì–´ë‚  ê²½ìš°, ê´€ë¦¬ë¥¼ ìœ„í•´ `ì¿ ë²„ë„¤í‹°ìŠ¤` ë¥¼ ì‚¬ìš©í•œë‹¤.
5. `VirtualBox` ë¥¼ ì‚¬ìš©í•˜ì—¬ `Ubuntu ê°€ìƒí™˜ê²½`ì„ ì„¤ì¹˜í•˜ê³ , Ubuntu í™˜ê²½ì— `Docker` ì„¤ì¹˜
6. `CLI(Command-Line Interface)` í™˜ê²½ê³¼ ì¹œí•´ì§€ê¸°

## ê°„ë‹¨ í‰ê°€
ì˜¤ëŠ˜ ìˆ˜ì—…ì€ DevOps / MLOps ì˜ ê¸°ë³¸ ê°œë…ê³¼ ì°¨ì´ì ì— ëŒ€í•œ ì„¤ëª…ê³¼ Docker ì‚¬ìš© ì´ìœ ì— ëŒ€í•´ ìˆ˜ì—…ì„ ë“¤ì—ˆë‹¤.  
ìš°ë¶„íˆ¬ ê°€ìƒí™˜ê²½ ë° Docker ì„¤ì¹˜ì— ìˆ˜ì—…ì‹œê°„ì˜ ëŒ€ë¶€ë¶„ì„ ì‚¬ìš©í•œ ê²ƒ ê°™ë‹¤.

---

## Ubuntu ì„¤ì¹˜
### ìš°ë¶„íˆ¬ ì´ë¯¸ì§€(ISO) íŒŒì¼ ë°›ê¸°
ìš°ë¶„íˆ¬ ë‹¤ìš´ë¡œë“œ URL : https://releases.ubuntu.com/  

ë‹¤ìš´ë¡œë“œ í˜ì´ì§€ ì ‘ì† í›„ LTS(Long-Term Support, ì¥ê¸° ì§€ì›) ë²„ì „ìœ¼ë¡œ ë°›ê¸°  
í†µìƒì ìœ¼ë¡œ, ìš°ë¶„íˆ¬ëŠ” xx.04 ë²„ì „ì´ LTS ë²„ì „ì´ë‹¤.


## VirtualBox ì„¤ì¹˜
VirtualBox ë‹¤ìš´ë¡œë“œ URL : https://www.virtualbox.org/wiki/Downloads  

ê°€ìƒë¨¸ì‹ ì— ë¦¬ëˆ…ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê°€ìƒë¨¸ì‹  í”„ë¡œê·¸ë¨ì´ë‹¤.  
í˜„ì¬ ì‘ì—…í•˜ëŠ” PC ë‚´ë¶€ì— ë˜ ë‹¤ë¥¸ OSë¥¼ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

ìœ„ì—ì„œ ë°›ì€ ISO íŒŒì¼ì„ ì´ìš©í•˜ì—¬ ê°€ìƒë¨¸ì‹  í™˜ê²½ ìƒì„± ë° ì„¤ì¹˜ë¥¼ ì§„í–‰í•œë‹¤.

> ì‚¬ì‹¤ ìœˆë„ìš°ëŠ” WSL(Windows Subsystem for Linux) ê¸°ëŠ¥ì„ ì§€ì›í•˜ì—¬ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, êµìœ¡ê³¼ì •ì—ì„œëŠ” í¸ì˜ë¥¼ ìœ„í•´ ê°€ìƒë¨¸ì‹ ì„ ì‚¬ìš©í•œ ê²ƒ ê°™ë‹¤.

## Docker ì„¤ì¹˜
Ubuntu íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € `apt-get`  
ê´€ë¦¬ì(`Su`peruser) ê¶Œí•œìœ¼ë¡œ í•´ë¼(`do`)! : `sudo`  

Ubuntu íŒ¨í‚¤ì§€ë¥¼ ìµœì‹  ë²„ì „ìœ¼ë¡œ ìœ ì§€í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ í•„ìˆ˜ë¡œ ì‚¬ìš©  
``` shell
$ sudo apt-get update
$ sudo apt-get upgrade
```
ì—¬ê¸°ì„œ ë‹¬ëŸ¬(`$`) í‘œì‹œëŠ” `ì‚¬ìš©ì` ë¥¼ ì˜ë¯¸í•œë‹¤ê³  ë°°ì› ë‹¤.  

ì œê³µí•´ì£¼ì‹  Notion í˜ì´ì§€ê°€ ì¡´ì¬í–ˆì§€ë§Œ, GPG ì„¤ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬...  
ë‚˜ëŠ” Ubuntu í™˜ê²½ì— Docker ë¥¼ ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤.

``` shell
# ìµœì‹ ë²„ì „ í™•ì¸ ë° í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
$ sudo apt-get update
$ sudo apt-get install \
   ca-certificates \
   curl \
   gnupg \
   lsb-release
   
# GPG ê´€ë ¨ ì„¤ëª…ì€ ìƒëµë˜ì—ˆì§€ë§Œ, GPG í‚¤ ì„¤ì •ì„ ìœ„í•œ ê³¼ì •
$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
# ARM ì•„í‚¤í…ì²˜ CPUì™€ x86 ì•„í‚¤í…ì²˜ CPUì˜ ê³¼ì •ì´ í‹€ë¦¬ë‹¤ê³  í•˜ì…¨ë‹¤.
# ì‹¤ìŠµ ë©í†±ì€ x86(Intel) ê¸°ë°˜ì´ë¯€ë¡œ, ì•„ë˜ì™€ ê°™ì´ ì§„í–‰
$ sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
$ apt-get update
$ sudo apt-get install docker-ce docker-ce-cli containerd.io
```
ì„¤ì¹˜ë¥¼ ë§ˆì¹˜ê³ , ì •ìƒ ì‹¤í–‰ í™•ì¸ ë° ì‚¬ìš©ìì—ê²Œ docker ëª…ë ¹ì–´ì˜ ê¶Œí•œ ì¶”ê°€ í›„ ë¦¬ë¶€íŒ…
``` shell
# Docker í…ŒìŠ¤íŠ¸
$ sudo docker run hello-world

# docker ëª…ë ¹ ê¶Œí•œ ë¶€ì—¬
$ sudo usermod -a -G docker $USER
$ sudo service docker restart
# ì¬ë¶€íŒ…??(ë‚˜ëŠ” ì¬ë¶€íŒ…ì„ í•˜ì§€ ì•Šì•„ë„ ì‘ë™í–ˆì—ˆë‹¤.)
$ reboot
# ì´í›„ë¡œëŠ” 'docker' ëª…ë ¹ì— 'sudo' ëª…ë ¹ì„ ì¤„ í•„ìš”ê°€ ì—†ìŒ
```

ë‚˜ëŠ” ê¸°ì¡´ ë¦¬ëˆ…ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ê³¼ ë¹„ìŠ·í•˜ê²Œ êµ¬ì„±í•˜ê¸° ìœ„í•´ `bash -> zsh ë³€ê²½` ë° `oh-my-zsh ì„¤ì¹˜`ê¹Œì§€ ì§„í–‰í–ˆë‹¤.  
ì¶”ê°€ë¡œ, `VirtualBox í¬íŠ¸í¬ì›Œë”©`ì„ í†µí•´ `Windows Termial` ssh ì—°ê²°ì„ í†µí•´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í™˜ê²½ êµ¬ì„±ì„ ë§ˆì³¤ë‹¤.  

ìˆ˜ì—… ì¤‘ `VirtualBox - Windows ê°„ í´ë¦½ë³´ë“œê°€ ê³µìœ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ`ê°€ ë°œìƒí–ˆëŠ”ë°, ìœ„ í™˜ê²½ì²˜ëŸ¼ êµ¬ì„±í•˜ë©´ Windows ì˜ í´ë¦½ë³´ë“œë¥¼ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ì¡´ì¬í–ˆë‹¤. (ê°œì¸ì ìœ¼ë¡œ CLI í™˜ê²½ì´ë¼ë©´ ì„ í˜¸í•˜ëŠ” ë°©ì‹)

![í™˜ê²½ì„¤ì • ì‚¬ì§„](./pic01.png)

---

# Day 2 êµìœ¡ë‚´ìš©

## ì£¼ìš”ë‚´ìš©
1. ê¸°ë³¸ì ì¸ `Docker ì‚¬ìš©ë²•`
2. ë¡œì»¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” `registry` ì´ë¯¸ì§€
3. í´ë¼ìš°ë“œë¡œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” `docker hub` ì‚¬ìš©í•˜ê¸°
4. ë”ìš± ë°©ëŒ€í•œ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” `ì¿ ë²„ë„¤í‹°ìŠ¤` ì„¤ì¹˜í•˜ê¸°

## ê°„ë‹¨í‰ê°€
ì˜¤ëŠ˜ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì •ì— ì‹œê°„ì„ ëŒ€ë¶€ë¶„ ì‚¬ìš©í–ˆë‹¤.  
Docker Hub ì—ì„œ ì•½ 1% ì‚¬ìš©ìê°€ ì „ì²´ íŒ¨í‚·ëŸ‰ì˜ 30% ì´ìƒì„ ì‚¬ìš©í•œë‹¤ëŠ” ì´ìœ ë¡œ IP ë‹¹ 6ì‹œê°„ ì œí•œ í• ë‹¹ëŸ‰ì„ ì •í•´ë‘ì—ˆë‹¤.  
ì‹¤ìŠµì‹¤ì—ì„œ ëª¨ë‘ ê°™ì€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ê¸ˆë°© ì œí•œ í• ë‹¹ëŸ‰ì— ë„ë‹¬í•˜ì—¬ Docker Image ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆë‹¤. ~~ë‚˜ëŠ” ì‚¬ì‹¤ VPN ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤~~  
Docker ë¥¼ ì‚¬ìš©í•´ë³¸ ê²½í—˜ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— ì•„ì§ ì •í™•í•œ ì‚¬ìš© ì˜ë¯¸ëŠ” ê¹¨ë‹«ì§€ ëª»í–ˆì§€ë§Œ, ì ì°¨ ìµìˆ™í•´ì§€ë ¤ ë…¸ë ¥í•´ë³¼ ì˜ˆì •ì´ë‹¤.

---

## Docker

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ì˜ ëª…ë ¹ ì‹¤í–‰
``` bash
$ docker run hello-world
```

ëˆ„êµ°ê°€ ë§Œë“¤ì–´ë†“ì€ `hello-world` ë¼ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë°›ê³  ì‹¤í–‰ í›„ ì¢…ë£Œ (ì§€ì† ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ì»¨í…Œì´ë„ˆ)  

ì–´ë–¤ íŠ¹ì •í•œ í”„ë¡œê·¸ë¨ì´ ìš°ë¶„íˆ¬ ë˜ê±°ì‹œ(ê³¼ê±°) ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° `ì»¨í…Œì´ë„ˆì—ì„œ ë²„ì „ ë³€ê²½ ê°€ëŠ¥`  

```bash
# Docker ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ëª…ë ¹ 'pull'
# ìš°ë¶„íˆ¬ 18.04 Docker ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜´
$ docker pull ubuntu:18.04

# ë‹¤ìš´ë¡œë“œ ë°›ì€ ì´ë¯¸ì§€ í™•ì¸
$ docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
ubuntu        18.04     ad080923604a   3 weeks ago    63.1MB
hello-world   latest    feb5d9fea6a5   9 months ago   13.3kB

# ì‹¤í–‰ì¤‘ì¸ docker í”„ë¡œì„¸ìŠ¤ í™•ì¸ (-a ì˜µì…˜ìœ¼ë¡œ Exited ê¸°ë¡ê¹Œì§€ í™•ì¸)
$ docker ps -a
CONTAINER ID   IMAGE         COMMAND    CREATED          STATUS                      PORTS     NAMES
9a3a340adbf1   hello-world   "/hello"   10 minutes ago   Exited (0) 10 minutes ago             upbeat_ritchie
d3155679476c   hello-world   "/hello"   10 hours ago     Exited (0) 10 hours ago               epic_matsumoto
e6b372e7e0c6   hello-world   "/hello"   16 hours ago     Exited (0) 16 hours ago               confident_williams
c91846635398   hello-world   "/hello"   16 hours ago     Exited (0) 16 hours ago               loving_brown
b062aac74813   hello-world   "/hello"   16 hours ago     Exited (0) 16 hours ago               zen_euler

# docker ì‹¤í–‰, -it(interective mode, ëª…ë ¹ ì…ë ¥ ê°€ëŠ¥ ëª¨ë“œ), --name ë³„ì¹­
# ìµœì¢…ì ìœ¼ë¡œ ì•„ê¹Œ ë‹¤ìš´ë°›ì€ ubuntu 18.04 ì´ë¯¸ì§€ ì‹¤í–‰
# ìµœì´ˆ ì‹¤í–‰ ì‹œ ì–´ëŠ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¬ ê²ƒì¸ì§€ ê²½ë¡œ ì§€ì • -> bash
# /bin ê²½ë¡œì—ëŠ” ìì£¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ” ê²½ë¡œ
$ docker run -it --name demo1 ubuntu:18.04 /bin/bash
root@a2442a22985a:/#
# ë‹¬ëŸ¬($) í‘œì‹œì—ì„œ ìƒµ(#) í‘œì‹œë¡œ ë°”ë€œìœ¼ë¡œì„œ
# ìƒˆë¡œìš´ Docker í™˜ê²½ì˜ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ë“¤ì–´ì™”ë‹¤ëŠ” ê²ƒì„ í™•ì¸

# ìƒˆë¡œìš´ Docker í™˜ê²½ì—ì„œ update ë° upgrade ì§„í–‰
# superuser ê¶Œí•œì´ë¯€ë¡œ 'sudo' ëª…ë ¹ì´ í•„ìš” ì—†ìŒ
> apt-get update
> apt-get upgrade

# docker í™˜ê²½ì—ì„œ ë¹ ì ¸ë‚˜ê°€ê¸°
> exit
~$
# ë‹¤ì‹œ ë‹¬ëŸ¬($) í‘œì‹œë¡œ ë°”ë€Œë©° ì›ë˜ì˜ Ubuntu í™˜ê²½ìœ¼ë¡œ ëŒì•„ì˜¨ê²ƒì„ í™•ì¸

# ì–´ë–¤ ì‘ì—…ì„ í–ˆëŠ” ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ log í™•ì¸
# ë¡œê·¸ ê²€ì‚¬í•  ëŒ€ìƒ ì»¨í…Œì´ë„ˆê°€ ì¸ìˆ˜ë¡œ ë“¤ì–´ê°
$ docker logs demo1
root@a2442a22985a:/# apt-get update
Get:1 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]
...
Reading package lists... Done
root@a2442a22985a:/# apt-get upgrade
Reading package lists... Done
...
Processing triggers for libc-bin (2.27-3ubuntu1.6) ...
root@a2442a22985a:/# exit
exit
# ì „ì— ì…ë ¥í•œ ëª…ë ¹ì–´ë“¤ê³¼ ì¶œë ¥ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
```

ë™ì‹œì— ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰

```bash
# ubuntu 18.04 ì´ë¯¸ì§€ì˜ ë³„ì¹­ì„ demo2 ë¡œë„ ìƒì„±
# -d : ë©”ëª¨ë¦¬ì— ì ì¬(demon)
$ docker run -it -d --name demo2 ubuntu:18.04
e19baf7c370b83a0c3430d3ef343d20ca336a5722ee3fdbafdf44645456b050d

# docker í”„ë¡œì„¸ìŠ¤ í™•ì¸
$ docker ps
CONTAINER ID   IMAGE          COMMAND   CREATED         STATUS         PORTS     NAMES
e19baf7c370b   ubuntu:18.04   "bash"    3 seconds ago   Up 2 seconds             demo2

# ì‹¤í–‰ì¤‘ì¸ docker í”„ë¡œì„¸ìŠ¤ì— ì ‘ì†
$ docker exec -it demo2 /bin/bash
root@e19baf7c370b:/#
> exit
# -d ëª¨ë“œë¡œ ì‹¤í–‰ì‹œí‚¨ ê²½ìš° exit ë¡œ ë¹ ì ¸ë‚˜ì™€ë„ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ì§€ ì•ŠìŒ

# busybox ì´ë¯¸ì§€ -d ëª¨ë“œë¡œ ì‹¤í–‰
# ë£¨í”„ë¥¼ ëŒë©° ë‚ ì§œë¥¼ 1ì´ˆë§ˆë‹¤ ì°ìŒ
$ docker run -d --name demo3 busybox sh -c "while true; do $(echo date); sleep 1; done"
Unable to find image 'busybox:latest' locally
latest: Pulling from library/busybox
19d511225f94: Pull complete
Digest: sha256:3614ca5eacf0a3a1bcc361c939202a974b4902b9334ff36eb29ffe9011aaad83
Status: Downloaded newer image for busybox:latest
662cb30d7c7f2a893fbdb497c90c18bbfb72b23f0eacb01683d468a743e47e9a

# -d ëª¨ë“œì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ë¡œê·¸ë¥¼ í™•ì¸
$ docker logs demo3
Tue Jun 28 01:17:13 UTC 2022
Tue Jun 28 01:17:14 UTC 2022
Tue Jun 28 01:17:15 UTC 2022
Tue Jun 28 01:17:16 UTC 2022
Tue Jun 28 01:17:17 UTC 2022
Tue Jun 28 01:17:18 UTC 2022
Tue Jun 28 01:17:19 UTC 2022
Tue Jun 28 01:17:20 UTC 2022

# ì‹¤ì‹œê°„ ë¡œê·¸ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ -f ì˜µì…˜ ì‚¬ìš©
# 1ì´ˆë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
$ docker logs demo3 -f
Tue Jun 28 01:17:13 UTC 2022
Tue Jun 28 01:17:14 UTC 2022
Tue Jun 28 01:17:15 UTC 2022
...
Tue Jun 28 01:20:09 UTC 2022
# Break ëª…ë ¹(Control + C, ^C)

# ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ ë©ˆì¶”ê³  ì‹¶ì€ ê²½ìš°
$ docker stop demo3
demo3
$ docker stop demo2
demo2

# ëª¨ë“  ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œëœê²ƒì„ í™•ì¸
$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

# ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆê°€ ì—†ì–´ë„ ë©”ëª¨ë¦¬ì— ì¡´ì¬
# rm(remove) ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì‚­ì œ
$ docker rm demo3
demo3
$ docker rm demo2
demo2
$ docker rm demo1
demo1

# ì‚­ì œ í›„ docker í”„ë¡œì„¸ìŠ¤ í™•ì¸
# ì‚­ì œí•œ demo1~3 ì— ëŒ€í•œ ì •ë³´ê°€ ëª¨ë‘ ì‚¬ë¼ì§„ê²ƒì„ í™•ì¸
CONTAINER ID   IMAGE         COMMAND    CREATED             STATUS                         PORTS     NAMES
9a3a340adbf1   hello-world   "/hello"   About an hour ago   Exited (0) About an hour ago             upbeat_ritchie
d3155679476c   hello-world   "/hello"   11 hours ago        Exited (0) 11 hours ago                  epic_matsumoto
e6b372e7e0c6   hello-world   "/hello"   17 hours ago        Exited (0) 17 hours ago                  confident_williams
c91846635398   hello-world   "/hello"   17 hours ago        Exited (0) 17 hours ago                  loving_brown
b062aac74813   hello-world   "/hello"   17 hours ago        Exited (0) 17 hours ago                  zen_euler

# ë‹¤ìš´ë°›ì€ ì´ë¯¸ì§€ë¥¼ í™•ì¸í•˜ê³ , í•„ìš” ì—†ëŠ” ì´ë¯¸ì§€ëŠ” ì‚­ì œ
$ docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
busybox       latest    62aedd01bd85   2 weeks ago    1.24MB
ubuntu        18.04     ad080923604a   3 weeks ago    63.1MB
hello-world   latest    feb5d9fea6a5   9 months ago   13.3kB

# ì´ë¯¸ì§€ ì‚­ì œëŠ” rmi(remove image) ì‚¬ìš©
$ docker rmi ubuntu:18.04
Untagged: ubuntu:18.04
Untagged: ubuntu@sha256:478caf1bec1afd54a58435ec681c8755883b7eb843a8630091890130b15a79af
Deleted: sha256:ad080923604aa54962e903125cd9a860605c111bc45afc7d491cd8c77dccc13b
Deleted: sha256:95129a5fe07e89c1898dc40a027b291d5fe33a67b35a88f0f0eaf51ea691f0b5

$ docker rmi busybox
Untagged: busybox:latest
Untagged: busybox@sha256:3614ca5eacf0a3a1bcc361c939202a974b4902b9334ff36eb29ffe9011aaad83
Deleted: sha256:62aedd01bd8520c43d06b09f7a0f67ba9720bdc04631a8242c65ea995f3ecac8
Deleted: sha256:7ad00cd55506625f2afad262de6002c8cef20d214b353e51d1025e40e8646e18

# ì´ë¯¸ì§€ ì‚­ì œ í™•ì¸
$ docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   9 months ago   13.3kB
```

## Linux ëª…ë ¹ì–´

* `cd(Change Directory)` : ê²½ë¡œ ë³€ê²½  
* `pwd(Print Working Directory)` : í˜„ì¬ ìœ„ì¹˜í•œ ê²½ë¡œ ì¶œë ¥  
* `mkdir(Make Directory)` : ìƒˆë¡œìš´ í´ë” ìƒì„±  
* `ls(List Segments)` : í˜„ì¬ ê²½ë¡œì˜ íŒŒì¼/ê²½ë¡œ ëª©ë¡ ì¶œë ¥  

```bash
# í™ˆìœ¼ë¡œ ì´ë™
$ cd $HOME
# í˜„ì¬ ê²½ë¡œ ì¶œë ¥
$ pwd
/home/ubuntu
# ìƒˆë¡œìš´ í´ë” ìƒì„±
$ mkdir docker-practice
# ìƒˆë¡œ ë§Œë“  í´ë” ê²½ë¡œë¡œ ì´ë™
$ cd docker-practice
# ë¹ˆ ë‚´ìš©ì˜ íŒŒì¼ 'Dockerfile' ìƒì„±
$ touch Dockerfile
# íŒŒì¼ ëª©ë¡ì„ í™•ì¸
$ ls:q:
Dockerfile

# íŒŒì¼ ë‚´ìš©ì„ í¸ì§‘í•˜ê¸° ìœ„í•´ì„œ 'vi' í¸ì§‘ê¸° ì‚¬ìš©
$ vi Dockerfile
```

## Vi í¸ì§‘ê¸°
`ESC` : ëª…ë ¹ ëª¨ë“œë¡œ ì „í™˜  
`i(insert)` : í¸ì§‘ ëª¨ë“œ  
`:w` : ì €ì¥  
`:q` : ë‚˜ê°€ê¸°  
`:q!` : ê°•ì œ ì¢…ë£Œ  

Dockerfile ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±

```file
# Dockerfile 
FROM ubuntu:18.04

RUN apt-get update

CMD ["echo", "hello docker!"]
```

## Docker Build

'Dockerfile' ì„ ì´ìš©í•˜ì—¬ Docker ì´ë¯¸ì§€ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ë¹Œë“œ ë˜ëŠ” 'ë§Œë‹¤' ë¼ê³  í‘œí˜„í•¨

```bash
# ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ”ë°, ì´ë¦„ì„ 'my-image' ë¡œ ìƒì„±
# ë²„ì „ íƒœê·¸ë¥¼ 1.0.0 ìœ¼ë¡œ ì„¤ì •, Dockerfile ì´ ì¡´ì¬í•˜ëŠ” ê²½ë¡œë¥¼ ì…ë ¥
$ docker build -t my-image:v1.0.0 .
Sending build context to Docker daemon  2.048kB
Step 1/3 : FROM ubuntu:18.04
18.04: Pulling from library/ubuntu
...
Successfully built a636966ff83e
Successfully tagged my-image:v1.0.0
# ìë™ìœ¼ë¡œ apt-get update ëª…ë ¹ì´ ì‹¤í–‰ë¨

# ìƒì„±ëœ docker ì´ë¯¸ì§€ í™•ì¸
$ docker images
REPOSITORY   TAG       IMAGE ID       CREATED          SIZE
my-image     v1.0.0    a636966ff83e   16 seconds ago   104MB
ubuntu       18.04     ad080923604a   3 weeks ago      63.1MB

# docker ì´ë¯¸ì§€ ì‹¤í–‰ê²°ê³¼ ì¤‘, grep ëª…ë ¹ì–´ë¥¼ í†µí•´ 'my' ë‹¨ì–´ê°€ ë“¤ì–´ê°„ ëª©ë¡ë§Œ ì¶œë ¥
$ docker images | grep my
my-image     v1.0.0    a636966ff83e   About a minute ago   104MB

# ìƒˆë¡œ ìƒì„±í•œ 'my-image' ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰
$ docker run my-image:v1.0.0
Hello Docker!!
# ì •ìƒì ìœ¼ë¡œ echo ëª…ë ¹ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸

# -d ëª¨ë“œë¡œ ì‹¤í–‰
# -p ì˜µì…˜ìœ¼ë¡œ í¬íŠ¸ë„˜ë²„ ì§€ì • (ë‚´ë¶€:ì™¸ë¶€)
# registry ë¼ëŠ” ì´ë¦„ì˜ ì´ë¯¸ì§€ë¥¼ registry ì´ë¦„ìœ¼ë¡œ ì§€ì •
$ docker run -d -p 5000:5000 --name registry registry

# docker pull rate limit ë°œìƒ ì‹œ ë¡œê·¸ì¸ ì²˜ë¦¬
$ docker login
UserName: 
Password: 
...
Login Succeeded

# ëª…ë ¹ ì¬ì‹¤í–‰
$ docker run -d -p 5000:5000 --name registry registry
Unable to find image 'registry:latest' locally
latest: Pulling from library/registry
2408cc74d12b: Pull complete
ea60b727a1ce: Pull complete
c87369050336: Pull complete
e69d20d3dd20: Pull complete
fc30d7061437: Pull complete
Digest: sha256:bedef0f1d248508fe0a16d2cacea1d2e68e899b2220e2258f1b604e1f327d475
Status: Downloaded newer image for registry:latest
0535dfd1ec34ed596ef7e0297e6256e97e67136bcf831a971abc54ccb3679fc9

# Registry docker ëŠ” ë¡œì»¬ì—ì„œ docker ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” ì—­í• 
# ì‹¤í–‰ ì—¬ë¶€ í™•ì¸
$ docker ps
CONTAINER ID   IMAGE      COMMAND                  CREATED          STATUS          PORTS                                       NAMES
0535dfd1ec34   registry   "/entrypoint.sh /etcâ€¦"   41 seconds ago   Up 40 seconds   0.0.0.0:5000->5000/tcp, :::5000->5000/tcp   registry

# registry ì»¨í…Œì´ë„ˆì— ì´ë¯¸ì§€ë¥¼ ì „ì†¡
$ docker tag my-image:v1.0.0 localhost:5000/my-image:v1.0.0

# docker ì´ë¯¸ì§€ í™•ì¸
$ docker images
REPOSITORY                TAG       IMAGE ID       CREATED          SIZE
my-image                  v1.0.0    a636966ff83e   31 minutes ago   104MB
localhost:5000/my-image   v1.0.0    a636966ff83e   31 minutes ago   104MB
ubuntu                    18.04     ad080923604a   3 weeks ago      63.1MB
registry                  latest    773dbf02e42e   4 weeks ago      24.1MB

# docker ì´ë¯¸ì§€ registry ì— push
$ docker push localhost:5000/my-image:v1.0.0
The push refers to repository [localhost:5000/my-image]
9beb6b9d6d83: Pushed
95129a5fe07e: Pushed
v1.0.0: digest: sha256:b60db61f2ba1b4c4ee817204bb9e4780dcd440b984a97a86893d8fe4246bf976 size: 741

# registry ì— ë°ì´í„° ìƒíƒœ ì§ˆì˜
$ curl -X GET http://localhost:5000/v2/_catalog
{"repositories":["my-image"]}
# íŠ¹ì • ì´ë¯¸ì§€ì˜ Tag ì •ë³´ë¥¼ ìì„¸í•˜ê²Œ í™•ì¸í•˜ë ¤ê³  í•˜ëŠ” ê²½ìš°
$ curl -X GET http://localhost:5000/v2/my-image/tags/list
{"name":"my-image","tags":["v1.0.0"]}
```

## Docker Hub
Github ì™€ ë¹„ìŠ·í•˜ê²Œ Docker Hub ì‚¬ì´íŠ¸ì— ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œ í•˜ëŠ” ë°©ë²•

```bash
# Docker Hub ì— ì´ë¯¸ì§€ ì—…ë¡œë“œ (ë‚´ ê³„ì •ìœ¼ë¡œ)
$ docker tag my-image:v1.0.0 k9714/my-image:v1.0.0

# Docker Hub ì— push (ë‚´ ê³„ì •ìœ¼ë¡œ)
$ docker push k9714/my-image:v1.0.0
The push refers to repository [docker.io/k9714/my-image]
9beb6b9d6d83: Pushed
95129a5fe07e: Mounted from library/ubuntu
v1.0.0: digest: sha256:b60db61f2ba1b4c4ee817204bb9e4780dcd440b984a97a86893d8fe4246bf976 size: 741
```

Docker Hub Repository ì— ì—…ë¡œë“œê°€ ì™„ë£Œëœ ëª¨ìŠµ

![dockerhub-repos](pic02.png)

## ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜

```bash
# Minikube ì„¤ì¹˜ë¥¼ ìœ„í•œ íŒŒì¼ ë°›ê¸°
$ curl -LO https://storage.googleapis.com/minikube/releases/v1.22.0/minikube-linux-amd64
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 66.5M  100 66.5M    0     0  4961k      0  0:00:13  0:00:13 --:--:-- 3959k

# ë‹¤ìš´ë°›ì€ minikube ì„¤ì¹˜
$ sudo install minikube-linux-amd64 /usr/local/bin/minikube

# minikube ì„¤ì¹˜ í™•ì¸
$ minikube
minikubeëŠ” ê°œë°œ ì›Œí¬í”Œë¡œìš°ì— ìµœì í™”ëœ ë¡œì»¬ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì œê³µí•˜ê³                                      ê´€ë¦¬í•©ë‹ˆë‹¤.
...
Use "minikube <command> --help" for more information about a given command.

# minikube ë²„ì „ í™•ì¸
$ minikube version
minikube version: v1.22.0
commit: a03fbcf166e6f74ef224d4a63be4277d017bb62e

# ëª…ë ¹ì–´ë¡œ ì»¨íŠ¸ë¡¤í•˜ê¸° ìœ„í•´ CLI ë„êµ¬ê°€ í•„ìš”
# kubectl ë„êµ¬ ë‹¤ìš´ë¡œë“œ
$ curl -LO https://dl.k8s.io/release/v1.22.1/bin/linux/amd64/kubectl
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   154  100   154    0     0    594      0 --:--:-- --:--:-- --:--:--   592
100   220  100   220    0     0    367      0 --:--:-- --:--:-- --:--:--   367

# ìœ ì € ëª¨ë“œë¡œ 'sudo' í‚¤ì›Œë“œ ì—†ì´ ëª…ë ¹ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ
# /usr/local/bin/kubectl ê²½ë¡œ ê¶Œí•œ 0755 ë¡œ ë³€ê²½
$ sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl

# kubectl ì„¤ì¹˜ í™•ì¸
$ kubectl
kubectl controls the Kubernetes cluster manager.
...
Use "kubectl options" for a list of global command-line options (applies to all commands).

# Minikube ì‹œì‘
# !! ì¤‘ìš”, VirtualBox CPU ê°œìˆ˜ê°€ 2ì½”ì–´ ì´ìƒì´ì—¬ì•¼ í˜!
$ minikube start --driver=docker
ğŸ˜„  Ubuntu 20.04 (vbox/amd64) ì˜ minikube v1.22.0
ğŸ‰  minikube 1.26.0 ì´ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤! ë‹¤ìŒ ê²½ë¡œì—ì„œ ë‹¤ìš´ë°›ìœ¼ì„¸ìš”: https://github.com/kubernetes/minikube/releases/tag/v1.26.0
...
ğŸŒŸ  ì• ë“œì˜¨ í™œì„±í™” : storage-provisioner, default-storageclass
ğŸ„  ëë‚¬ìŠµë‹ˆë‹¤! kubectlì´ "minikube" í´ëŸ¬ìŠ¤í„°ì™€ "default" ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
# CPU ì½”ì–´ ìˆ˜ì • í›„ ì„¤ì¹˜ê°€ ì •ìƒì ìœ¼ë¡œ ì§„í–‰ë¨

# minikube ì‹¤í–‰ì¤‘ì¸ì§€ í™•ì¸
$ minikube status
minikube
type: Control Plane
host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured
# minikube Running í™•ì¸

# docker ì—ì„œë„ í™•ì¸
$ docker ps
CONTAINER ID   IMAGE                                 COMMAND                  CREATED         STATUS         PORTS                                                                                                                                  NAMES
4aff53531b89   gcr.io/k8s-minikube/kicbase:v0.0.25   "/usr/local/bin/entrâ€¦"   2 minutes ago   Up 2 minutes   127.0.0.1:49157->22/tcp, 127.0.0.1:49156->2376/tcp, 127.0.0.1:49155->5000/tcp, 127.0.0.1:49154->8443/tcp, 127.0.0.1:49153->32443/tcp   minikube
# minikube ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ì¤‘ì¸ ê²ƒì„ í™•ì¸ ê°€ëŠ¥


# ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì‹¤í–‰ì¤‘ì¸ ì‹œìŠ¤í…œ í™•ì¸
$ kubectl get pod -n kube-system
NAME                               READY   STATUS    RESTARTS   AGE
coredns-558bd4d5db-np97g           1/1     Running   0          15m
etcd-minikube                      1/1     Running   0          15m
kube-apiserver-minikube            1/1     Running   0          15m
kube-controller-manager-minikube   1/1     Running   0          15m
kube-proxy-wmdzq                   1/1     Running   0          15m
kube-scheduler-minikube            1/1     Running   0          15m
storage-provisioner                1/1     Running   0          15m

# minikube ì„œë¹„ìŠ¤ ë„ê¸°
$ minikube delete
ğŸ”¥  docker ì˜ "minikube" ë¥¼ ì‚­ì œí•˜ëŠ” ì¤‘ ...
ğŸ”¥  Deleting container "minikube" ...
ğŸ”¥  /home/ubuntu/.minikube/machines/minikube ì œê±° ì¤‘ ...
ğŸ’€  "minikube" í´ëŸ¬ìŠ¤í„° ê´€ë ¨ ì •ë³´ê°€ ëª¨ë‘ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤
```

## pod.yaml ìƒì„±
í™•ì¥ìëŠ” `yaml`, `pod.yaml` íŒŒì¼ì„ ìƒì„±
```yaml
apiVersion: v1
kind: Pod
metadata:
    name: counter
spec:
    containers:
        - name: count
          image: busybox
          args: [/bin/sh, -c, 'i = 0; while true; do echo "$i: &(date) "; i=$((i + 1)); sleep 1; done']
```

## pod.yaml íŒŒì¼ ì ìš©
```bash
# ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹¤í–‰
$ minikube start --driver=docker
ğŸ˜„  Ubuntu 20.04 (vbox/amd64) ì˜ minikube v1.22.0
âœ¨  ìœ ì € í™˜ê²½ ì„¤ì • ì •ë³´ì— ê¸°ë°˜í•˜ì—¬ docker ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¤‘
...
ğŸŒŸ  ì• ë“œì˜¨ í™œì„±í™” : default-storageclass, storage-provisioner
ğŸ„  ëë‚¬ìŠµë‹ˆë‹¤! kubectlì´ "minikube" í´ëŸ¬ìŠ¤í„°ì™€ "default" ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

# pod.yaml íŒŒì¼ ì ìš©
$ kubectl apply -f pod.yaml
pod/counter created

# pod ìƒíƒœ í™•ì¸
$ kubectl get pod
NAME      READY   STATUS    RESTARTS   AGE
counter   1/1     Running   0          37s
# ë§Œì•½, Running ì´ ì•ˆëœë‹¤ë©´ ëŒ€ë¶€ë¶„ docker hub rate limit ì˜¤ë¥˜
# docker login ë˜ëŠ” IP ë³€ê²½ìœ¼ë¡œ í•´ê²° ê°€ëŠ¥

# System pod ê¹Œì§€ ëª¨ë‘ í™•ì¸í•˜ê¸°
$ kubectl get pod -A
NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE
default       counter                            1/1     Running   0          25m
kube-system   coredns-558bd4d5db-p8nfx           1/1     Running   0          25m
kube-system   etcd-minikube                      1/1     Running   0          25m
kube-system   kube-apiserver-minikube            1/1     Running   0          25m
kube-system   kube-controller-manager-minikube   1/1     Running   0          25m
kube-system   kube-proxy-kw59m                   1/1     Running   0          25m
kube-system   kube-scheduler-minikube            1/1     Running   0          25m
kube-system   storage-provisioner                1/1     Running   0          25m

# ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•˜ê¸° ìœ„í•´ ëª¨ë‹ˆí„°ë§ ì˜µì…˜ -w ì‚¬ìš©
$ kubectl get pod -w
NAME      READY   STATUS    RESTARTS   AGE
counter   1/1     Running   0          26m
# ìƒíƒœ ë³€í™”ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŒ

# Pod ë‚´ë¶€ì— ì ‘ì†í•˜ê¸°
$ - # kubectl exec -it counter /bin/bash

# Pod ì‚­ì œí•˜ê¸°
$ kubectl delete pod counter
pod "counter" deleted

# ì‚­ì œ í™•ì¸í•˜ê¸°
$ kubectl get pod
No resources found in default namespace.
```

## ë²ˆì™¸ - Google Colab.
`Jupyter Notebook` ê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” êµ¬ê¸€ ì œê³µ ì„œë¹„ìŠ¤.  
êµ¬ê¸€ì˜ ë°©ëŒ€í•œ ì»´í“¨íŒ… ìì›ì„ ì¼ë¶€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ë‹¤.  
`Jupyter Notebook` ê³¼ ê±°ì˜ ì‚¬ìš© ë°©ë²•ì´ ìœ ì‚¬í•´ì„œ ë§Œì•½ ê²½í—˜ìë¼ë©´ ì†ì‰½ê²Œ ì ì‘í•  ìˆ˜ ìˆë‹¤.  

